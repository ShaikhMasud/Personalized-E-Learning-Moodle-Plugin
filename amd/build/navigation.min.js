define("local_automation/navigation",["jquery","core/templates","core/config"],(function($,Templates,Config){return{init:function(){return Templates.render("local_automation/navigation",{}).then((function(html){$("body").append(html),$("#nav-helper-button").on("click",(function(){$("#nav-helper-modal").toggleClass("hidden"),$("#nav-helper-input").trigger("focus")})),$("#nav-helper-input").on("keyup",(function(){const query=$(this).val().trim();if(query.length<3)return void $("#nav-helper-results").empty();const url=Config.wwwroot+"/local/automation/ajax.php";$.ajax({url:url,method:"POST",dataType:"json",data:{query:query},success:function(results){const $list=$("#nav-helper-results");$list.empty(),results&&0!==results.length?results.forEach((function(r){const name=$("<div/>").text(r.name).html(),url=$("<div/>").text(r.url).html();$list.append('<li><a href="'+url+'">'+name+"</a></li>")})):$list.append("<li>No matches found</li>")},error:function(xhr,status,err){console.error("navsearch AJAX failed",status,err,xhr.responseText)}})})),$("#nav-helper-input").on("keypress",(function(e){if("Enter"===e.key){e.preventDefault();const $first=$("#nav-helper-results li a").first();$first.length&&(window.location.href=$first.attr("href"))}})),$("#nav-helper-search-btn").on("click",(function(){const $first=$("#nav-helper-results li a").first();$first.length&&(window.location.href=$first.attr("href"))}))})).catch((function(e){console.error("Failed to render navigation template:",e)}))}}}));

//# sourceMappingURL=navigation.min.js.map