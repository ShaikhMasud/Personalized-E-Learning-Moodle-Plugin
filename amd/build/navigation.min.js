define("local_automation/navigation",["jquery","core/ajax","core/templates"],(function($,Ajax,Templates){return{init:function(){return Templates.render("local_automation/navigation",{}).then((function(html,js){$("body").append(html),Templates.runTemplateJS(js),$("#nav-helper-button").on("click",(function(){$("#nav-helper-modal").toggleClass("hidden"),$("#nav-helper-input").trigger("focus")})),$("#nav-helper-input").on("keyup",(function(){const query=$(this).val().trim();query.length<3?$("#nav-helper-results").empty():Ajax.call([{methodname:"local_automation_navsearch",args:{query:query},done:function(results){const $list=$("#nav-helper-results");$list.empty(),results&&0!==results.length?results.forEach((r=>{const name=$("<div/>").text(r.name).html(),url=$("<div/>").text(r.url).html();$list.append('<li><a href="'.concat(url,'">').concat(name,"</a></li>"))})):$list.append("<li>No matches found</li>")},fail:function(err){console.error("navsearch failed:",err)}}])})),$("#nav-helper-input").on("keypress",(function(e){if("Enter"===e.key){e.preventDefault();const $firstLink=$("#nav-helper-results li a").first();$firstLink.length&&(window.location.href=$firstLink.attr("href"))}})),$("#nav-helper-search-btn").on("click",(function(){const $firstLink=$("#nav-helper-results li a").first();$firstLink.length&&(window.location.href=$firstLink.attr("href"))}))})).catch((function(e){console.error("Failed to render navigation template:",e)}))}}}));

//# sourceMappingURL=navigation.min.js.map